

<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>quantificationlib.estimators.ordinal_ddag module &#8212; quantificationlib 0.1.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="quantificationlib.estimators.weighted_knn module" href="quantificationlib.estimators.weighted_knn.html" />
    <link rel="prev" title="quantificationlib.estimators.frank_and_hall module" href="quantificationlib.estimators.frank_and_hall.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quantificationlib.estimators.weighted_knn.html" title="quantificationlib.estimators.weighted_knn module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quantificationlib.estimators.frank_and_hall.html" title="quantificationlib.estimators.frank_and_hall module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">quantificationlib 0.1.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="quantificationlib.estimators.html" accesskey="U">quantificationlib.estimators package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">quantificationlib.estimators.ordinal_ddag module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-quantificationlib.estimators.ordinal_ddag">
<span id="quantificationlib-estimators-ordinal-ddag-module"></span><h1>quantificationlib.estimators.ordinal_ddag module<a class="headerlink" href="#module-quantificationlib.estimators.ordinal_ddag" title="Permalink to this heading">¶</a></h1>
<p>Estimator based on DDAGs (Decision Directed Acyclic Graphs)</p>
<dl class="py class">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DDAGClassifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">estimator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_jobs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predict_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full_probabilistic'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/quantificationlib/estimators/ordinal_ddag.html#DDAGClassifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">OneVsOneClassifier</span></code></p>
<p>Decision Directed Acyclic Graph ordinal classifier</p>
<p>This strategy consists on learning a classifier per each pair of classes, thus it requires to fit
<cite>n_classes * (n_classes - 1) / 2</cite> classifiers. For this reason, this class derives from OneVsOneClassifier and
uses most of its functionalities, mainly to train the binary models.</p>
<p>However, there are two main differences with respect to OneVsOneClassifier:</p>
<ol class="arabic simple">
<li><p>This class is used for ordinal classification, it does not make sense to use it for multiclass classification</p></li>
<li><p>The rule to make predictions is different. Here, the binary classifiers are arranged into a binary tree in
which the classifier selected at each node is the one that deals with the two more distant remaining
classes. Thus, the root contains the classifier that decides between the first class of the order and last
class, and this idea is recursively applied.</p></li>
</ol>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="n">a</span> <span class="n">ordinal</span> <span class="n">classification</span> <span class="n">problem</span> <span class="k">with</span> <span class="n">classes</span> <span class="n">ranging</span> <span class="kn">from</span> <span class="mi">1</span><span class="o">-</span><span class="n">star</span> <span class="n">to</span> <span class="mi">5</span><span class="o">-</span><span class="n">star</span><span class="p">,</span>
<span class="n">the</span> <span class="n">corresponding</span> <span class="n">DDAG</span> <span class="n">will</span> <span class="n">be</span>

                                          <span class="mi">1</span><span class="o">|</span><span class="mi">5</span>

                     <span class="mi">1</span><span class="o">|</span><span class="mi">4</span>                                       <span class="mi">2</span><span class="o">|</span><span class="mi">5</span>

           <span class="mi">1</span><span class="o">|</span><span class="mi">3</span>                 <span class="mi">2</span><span class="o">|</span><span class="mi">4</span>                   <span class="mi">2</span><span class="o">|</span><span class="mi">4</span>                  <span class="mi">3</span><span class="o">|</span><span class="mi">5</span>

      <span class="mi">1</span><span class="o">|</span><span class="mi">2</span>       <span class="mi">2</span><span class="o">|</span><span class="mi">3</span>       <span class="mi">2</span><span class="o">|</span><span class="mi">3</span>       <span class="mi">3</span><span class="o">|</span><span class="mi">4</span>         <span class="mi">2</span><span class="o">|</span><span class="mi">3</span>       <span class="mi">3</span><span class="o">|</span><span class="mi">4</span>        <span class="mi">3</span><span class="o">|</span><span class="mi">4</span>       <span class="mi">4</span><span class="o">|</span><span class="mi">5</span>

    <span class="mi">1</span>     <span class="mi">2</span>   <span class="mi">2</span>     <span class="mi">3</span>   <span class="mi">2</span>     <span class="mi">3</span>   <span class="mi">3</span>     <span class="mi">4</span>     <span class="mi">2</span>     <span class="mi">3</span>   <span class="mi">3</span>     <span class="mi">4</span>    <span class="mi">3</span>     <span class="mi">4</span>   <span class="mi">4</span>     <span class="mi">5</span>

<span class="n">Since</span> <span class="n">some</span> <span class="n">subtrees</span> <span class="n">are</span> <span class="n">shared</span> <span class="n">by</span> <span class="n">different</span> <span class="n">branches</span><span class="p">,</span> <span class="k">for</span> <span class="n">instance</span><span class="p">,</span> <span class="n">the</span> <span class="n">subtree</span> <span class="n">labeled</span> <span class="k">as</span> <span class="n">node</span>
<span class="mi">2</span><span class="o">|</span><span class="mi">4</span> <span class="ow">is</span> <span class="n">shared</span> <span class="n">by</span> <span class="n">the</span> <span class="n">right</span> <span class="n">subtree</span> <span class="n">of</span> <span class="mi">1</span><span class="o">|</span><span class="mi">4</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">left</span> <span class="n">subtree</span> <span class="n">of</span> <span class="mi">2</span><span class="o">|</span><span class="mi">5</span><span class="p">,</span> <span class="n">the</span> <span class="n">tree</span> <span class="n">can</span> <span class="n">be</span> <span class="n">depicted</span>
<span class="ow">in</span> <span class="n">a</span> <span class="n">more</span> <span class="n">compact</span> <span class="n">way</span><span class="p">:</span>

                                          <span class="mi">1</span><span class="o">|</span><span class="mi">5</span>

                                  <span class="mi">1</span><span class="o">|</span><span class="mi">4</span>             <span class="mi">2</span><span class="o">|</span><span class="mi">5</span>

                           <span class="mi">1</span><span class="o">|</span><span class="mi">3</span>            <span class="mi">2</span><span class="o">|</span><span class="mi">4</span>            <span class="mi">3</span><span class="o">|</span><span class="mi">5</span>

                     <span class="mi">1</span><span class="o">|</span><span class="mi">2</span>          <span class="mi">2</span><span class="o">|</span><span class="mi">3</span>             <span class="mi">3</span><span class="o">|</span><span class="mi">4</span>           <span class="mi">4</span><span class="o">|</span><span class="mi">5</span>

                 <span class="mi">1</span>          <span class="mi">2</span>              <span class="mi">3</span>              <span class="mi">4</span>             <span class="mi">5</span>

<span class="ow">in</span> <span class="n">which</span> <span class="nb">all</span> <span class="n">internal</span> <span class="n">nodes</span> <span class="p">(</span><span class="mi">2</span><span class="o">|</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="o">|</span><span class="mi">3</span> <span class="ow">and</span> <span class="mi">3</span><span class="o">|</span><span class="mi">4</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">leaves</span><span class="p">,</span> <span class="k">except</span> <span class="n">the</span> <span class="n">first</span> <span class="n">one</span><span class="p">,</span> <span class="ow">and</span>
<span class="n">the</span> <span class="n">last</span> <span class="n">one</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="ow">and</span> <span class="mi">4</span><span class="p">)</span> <span class="n">are</span> <span class="n">reached</span> <span class="kn">from</span> <span class="nn">different</span> <span class="n">paths</span><span class="o">.</span>
</pre></div>
</div>
<p>The class implements two different strategies to compute the probabilities for a given example:</p>
<dl>
<dt>‘full_probabilistic’</dt><dd><p>The probabilities computed by each node are propagated through the tree. For those leaves that
can be reached following different paths (all except the leaves for the first and the last class), the
probabilities are summed. With this method, all the classes may have a probability greater that 0.</p>
<p>Example: For a given example, the probability of the left class returned by each model is the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>P(1|5) = 0.2
P(1|4) = 0.1
P(2|5) = 0.1
P(1|3) = 0.2
P(2|4) = 0.3
P(3|5) = 0.3
P(1|2) = 0.3
P(2|3) = 0.4
P(3|4) = 0.4
P(4|5) = 0.3

P(y=1) = P(1|5) * P(1|4) * P(1|3) * P(1|2) =
         0.2    * 0.1    * 0.2    * 0.3    = 0.0012

P(y=2) = P(1|5)     * P(1|4)     * P(1|3)     * (1-P(1|2)) +
         P(1|5)     * P(1|4)     * (1-P(1|3)) * P(2|3)     +
         P(1|5)     * (1-P(1|4)) * P(2|4)     * P(2|3)     +
         (1-P(1|5)) * P(2|5)     * P(2|4)     * P(2|3)     =
         0.2        * 0.1        * 0.2        * 0.7        +
         0.2        * 0.1        * 0.8        * 0.4        +
         0.2        * 0.9        * 0.3        * 0.4        +
         0.8        * 0.1        * 0.3        * 0.4        =
         0.0028 + 0.0064 + 0.0216 + 0.0096 = 0.0404

P(y=3) = P(1|5)     * P(1|4)     * (1-P(1|3)) * (1-P(2|3)) +
         P(1|5)     * (1-P(1|4)) * P(2|4))    * (1-P(2|3)) +
         P(1|5)     * (1-P(1|4)) * (1-P(2|4)) * P(3|4)     +
         (1-P(1|5)) * P(2|5)     * P(2|4))    * (1-P(2|3)) +
         (1-P(1|5)) * P(2|5)     * (1-P(2|4)) * P(3|4)     +
         (1-P(1|5)) * (1-P(2|5)) * P(3|5)     * P(3|4)     =
         0.2        * 0.1        * 0.8        * 0.6        +
         0.2        * 0.9        * 0.3        * 0.6        +
         0.2        * 0.9        * 0.7        * 0.4        +
         0.8        * 0.1        * 0.3        * 0.6        +
         0.8        * 0.1        * 0.7        * 0.4        +
         0.8        * 0.9        * 0.3        * 0.4        =
         0.0096 + 0.0324 + 0.0504 + 0.0144 + 0.0224 + 0.0864 = 0.2156

P(y=4) = P(1|5)     * (1-P(1|4)) * (1-P(2|4)) * (1-P(3|4)) +
         (1-P(1|5)) * P(2|5)     * (1-P(2|4)) * (1-P(3|4)) +
         (1-P(1|5)) * (1-P(2|5)) * P(3|5)     * (1-P(3|4)) +
         (1-P(1|5)) * (1-P(2|5)) * (1-P(3|5)) * P(4|5)     =
         0.2        * 0.9        * 0.7        * 0.6        + 0.0756
         0.8        * 0.1        * 0.7        * 0.6        + 0.0336
         0.8        * 0.9        * 0.3        * 0.6        + 0.1296
         0.8        * 0.9        * 0.7        * 0.3        =
         0.0756 + 0.0336 + 0.1296 + 0.1512 = 0.3900

P(y=5) = (1-P(1|5)) * (1-P(2|5)) * (1-P(3|5)) * (1-P(4|5)) =
         0.8        * 0.9        * 0.7        * 0.7        = 0.3528

Thus, the probabilities returned by `predict_proba` method would be:
        (0.0012, 0.0404, 02156, 0.3900, 0.3528)
</pre></div>
</div>
</dd>
<dt>‘winner_node’</dt><dd><p>Uses the probabilities of binary estimators to descent until the level previous to the leaves (it is like
binarizing such probabilities to 0,1). Then, the method returns the probalities of such binary estimator
for the two consecutive classes involved, and zero for the rest of classes.</p>
<p>Example: For a given example, the probability of the left class returned by each model is the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="o">|</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="o">|</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">P</span><span class="p">(</span><span class="mi">2</span><span class="o">|</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="o">|</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">P</span><span class="p">(</span><span class="mi">2</span><span class="o">|</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">P</span><span class="p">(</span><span class="mi">3</span><span class="o">|</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">P</span><span class="p">(</span><span class="mi">2</span><span class="o">|</span><span class="mi">3</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">P</span><span class="p">(</span><span class="mi">3</span><span class="o">|</span><span class="mi">4</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.4</span>
<span class="n">P</span><span class="p">(</span><span class="mi">4</span><span class="o">|</span><span class="mi">5</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.3</span>

<span class="n">Taking</span> <span class="n">binary</span> <span class="n">decisions</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">root</span><span class="p">,</span> <span class="n">we</span> <span class="n">reach</span> <span class="n">the</span> <span class="n">binary</span> <span class="n">classifier</span> <span class="mi">4</span><span class="o">|</span><span class="mi">5</span><span class="p">,</span> <span class="n">thus</span>
<span class="n">the</span> <span class="n">returned</span> <span class="n">probabilities</span> <span class="n">are</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>estimator</strong> (<em>estimator object</em><em> (</em><em>default=None</em><em>)</em>) – An estimator object implementing <cite>fit</cite> and one of <cite>predict</cite> or <cite>predict_proba</cite>. It is the base estimator
used to learn the set of binary classifiers</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em><em> (</em><em>default=None</em><em>)</em>) – The number of jobs to use for the computation.
<code class="docutils literal notranslate"><span class="pre">None</span></code> means 1 unless in a <code class="xref py py-obj docutils literal notranslate"><span class="pre">joblib.parallel_backend</span></code> context.
<code class="docutils literal notranslate"><span class="pre">-1</span></code> means using all processors</p></li>
<li><p><strong>predict_method</strong> (<em>str</em><em>, </em><em>optional</em><em> (</em><em>default 'full_probabilistic'</em><em>)</em>) – <ul>
<li><p>‘full_probabilistic’</p></li>
</ul>
<p>The probabilities computed by each node are propagated through the tree. For those leaves that
can be reached following different paths (all except the leaves for the first and the last class), the
probabilities are summed. With this method, all the classes may have a probability greater that 0.</p>
<ul>
<li><p>’winner_node’</p></li>
</ul>
<p>Uses the probabilities of binary estimators to descent until the level previous to the leaves (it is like
binarizing such probabilities to 0,1). Then, the method returns the probalities of such binary estimator
for the two consecutive classes involved, and zero for the rest of classes.</p>
</p></li>
<li><p><strong>verbose</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>(</em><em>default=0</em><em>)</em>) – The verbosity level. The default value, zero, means silent mode</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.estimator">
<span class="sig-name descname"><span class="pre">estimator</span></span><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.estimator" title="Permalink to this definition">¶</a></dt>
<dd><p>An estimator object implementing <cite>fit</cite> and <cite>predict_proba</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>estimator object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.n_jobs">
<span class="sig-name descname"><span class="pre">n_jobs</span></span><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.n_jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of jobs to use for the computation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None,</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict_method">
<span class="sig-name descname"><span class="pre">predict_method</span></span><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict_method" title="Permalink to this definition">¶</a></dt>
<dd><p>The method used by <cite>predict_proba</cite> to compute the class probabilities of a given example</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>The verbosity level.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int,</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.estimators_">
<span class="sig-name descname"><span class="pre">estimators_</span></span><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.estimators_" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimators used for predictions.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of <code class="docutils literal notranslate"><span class="pre">n_classes</span> <span class="pre">*</span> <span class="pre">(n_classes</span> <span class="pre">-</span> <span class="pre">1)</span> <span class="pre">/</span> <span class="pre">2</span></code> estimators</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.classes_">
<span class="sig-name descname"><span class="pre">classes_</span></span><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.classes_" title="Permalink to this definition">¶</a></dt>
<dd><p>Array containing labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy array of shape [n_classes]</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<p>José Ramón Quevedo, Elena Montañés, Óscar Luaces, Juan José del Coz: Adapting decision DAGs for multipartite
ranking. In Joint European Conference on Machine Learning and Knowledge Discovery in Databases (pp. 115-130).
Springer, Berlin, Heidelberg.</p>
<dl class="py method">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/quantificationlib/estimators/ordinal_ddag.html#DDAGClassifier.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the class for each testing example</p>
<p>The method computes the probability of each class (using <cite>predict_proba</cite>) and returns the class with
highest probability</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> (<em>(</em><em>sparse</em><em>) </em><em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>n_features</em><em>)</em>) – Data</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>An array, shape(n_examples, ) with the predicted class for each example</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotFittedError</strong> – When the estimators are not fitted yet</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict_proba">
<span class="sig-name descname"><span class="pre">predict_proba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/quantificationlib/estimators/ordinal_ddag.html#DDAGClassifier.predict_proba"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict the class probabilities for each example</p>
<p>Two different methods are implemented depending on the value of <cite>predict_method</cite> attribute</p>
<dl class="simple">
<dt>‘full_probabilistic’</dt><dd><p>The probabilities computed by each node are propagated through the tree. For those leaves that
can be reached following different paths (all except the leaves for the first and the last class), the
probabilities are summed. With this method, all the classes may have a probability greater that 0.</p>
</dd>
<dt>‘winner_node’</dt><dd><p>Uses the probabilities of binary estimators to descent until the level previous to the leaves (it is like
binarizing such probabilities to 0,1). Then, the method returns the probalities of such binary estimator
for the two consecutive classes involved, and zero for the rest of classes.</p>
</dd>
</dl>
<p>The method uses a recursive auxiliar method to compute the class probabilities</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>X</strong> (<em>(</em><em>sparse</em><em>) </em><em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>n_features</em><em>)</em>) – Data</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>An array, shape(n_examples, n_classes) with the class probabilities for each example</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotFittedError</strong> – When the estimators are not fitted yet</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">





<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">quantificationlib.estimators.ordinal_ddag module</a><ul>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier"><code class="docutils literal notranslate"><span class="pre">DDAGClassifier</span></code></a><ul>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.estimator"><code class="docutils literal notranslate"><span class="pre">estimator</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.n_jobs"><code class="docutils literal notranslate"><span class="pre">n_jobs</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict_method"><code class="docutils literal notranslate"><span class="pre">predict_method</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.verbose"><code class="docutils literal notranslate"><span class="pre">verbose</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.estimators_"><code class="docutils literal notranslate"><span class="pre">estimators_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.classes_"><code class="docutils literal notranslate"><span class="pre">classes_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict"><code class="docutils literal notranslate"><span class="pre">predict()</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.estimators.ordinal_ddag.DDAGClassifier.predict_proba"><code class="docutils literal notranslate"><span class="pre">predict_proba()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>



<h3> Source Code </h3>
<a href="https://github.com/AICGijon/quantificationlib">GitHub Repository</a>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="quantificationlib.estimators.frank_and_hall.html"
                          title="previous chapter">quantificationlib.estimators.frank_and_hall module</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="quantificationlib.estimators.weighted_knn.html"
                          title="next chapter">quantificationlib.estimators.weighted_knn module</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quantificationlib.estimators.weighted_knn.html" title="quantificationlib.estimators.weighted_knn module"
             >next</a> |</li>
        <li class="right" >
          <a href="quantificationlib.estimators.frank_and_hall.html" title="quantificationlib.estimators.frank_and_hall module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">quantificationlib 0.1.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="quantificationlib.estimators.html" >quantificationlib.estimators package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">quantificationlib.estimators.ordinal_ddag module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, AIC Gijón.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.1.
    </div>
  </body>
</html>
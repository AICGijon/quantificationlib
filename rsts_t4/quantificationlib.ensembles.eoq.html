

<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>quantificationlib.ensembles.eoq module &#8212; quantificationlib 0.0.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="quantificationlib.estimators package" href="quantificationlib.estimators.html" />
    <link rel="prev" title="quantificationlib.ensembles package" href="quantificationlib.ensembles.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quantificationlib.estimators.html" title="quantificationlib.estimators package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quantificationlib.ensembles.html" title="quantificationlib.ensembles package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">quantificationlib 0.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="quantificationlib.ensembles.html" accesskey="U">quantificationlib.ensembles package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">quantificationlib.ensembles.eoq module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-quantificationlib.ensembles.eoq">
<span id="quantificationlib-ensembles-eoq-module"></span><h1>quantificationlib.ensembles.eoq module<a class="headerlink" href="#module-quantificationlib.ensembles.eoq" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">EoQ</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_quantifier=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_quantifiers=100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bag_generator=&lt;quantificationlib.bag_generator.PriorShift_BagGenerator</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combination_strategy='mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensemble_estimator_train=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensemble_estimator_test=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distribution_function='PDF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bins=100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bin_strategy='equal_width'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_bags='euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentage_of_selected_models=0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose=0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/quantificationlib/ensembles/eoq.html#EoQ"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="quantificationlib.base.html#quantificationlib.base.WithoutClassifiers" title="quantificationlib.base.WithoutClassifiers"><code class="xref py py-class docutils literal notranslate"><span class="pre">WithoutClassifiers</span></code></a></p>
<p>This class implements Ensembles of Quantifiers for all kind of quantifiers. All the quantifiers of the
ensemble are of the same class and using the same parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_quantifier</strong> (<em>quantifier object</em><em>, </em><em>optional</em><em>, </em><em>(</em><em>default=None</em><em>)</em>) – The quantifier used for each model of the ensemble</p></li>
<li><p><strong>n_quantifiers</strong> (<em>int</em><em>, </em><em>(</em><em>default=100</em><em>)</em>) – Number of quantifiers in the ensemble</p></li>
<li><p><strong>bag_generator</strong> (<em>BagGenerator object</em><em> (</em><em>default=PriorShift_BagGenerator</em><em>(</em><em>)</em><em>)</em>) – Object to generate the bags (with a selected shift) for training each quantifier</p></li>
<li><p><strong>combination_strategy</strong> (<em>str</em><em>, </em><em>(</em><em>default='mean'</em><em>)</em>) – Strategy used to combine the predictions of the quantifiers</p></li>
<li><p><strong>ensemble_estimator_train</strong> (<em>estimator object</em><em>, </em><em>optional</em><em>, </em><em>(</em><em>default=None</em><em>)</em>) – Estimator used to classify the examples of the training bags when a base_quantifier of
class UsingClassifiers is used. A regular estimator can be used, this implies that a unique classifier is
share for all the quantifiers in the ensemble. If the users prefers that each quantifier uses an
individual classifier the an estimator of the class EnsembleOfClassifiers must be passed here</p></li>
<li><p><strong>ensemble_estimator_test</strong> (<em>estimator object</em><em>, </em><em>optional</em><em>, </em><em>(</em><em>default=None</em><em>)</em>) – Estimator used to classify the examples of the testing bags. A regular estimator can be used, this implies
that a unique classifier is share for all the quantifiers in the ensemble. If the users prefers that each
quantifier uses an individual classifier the an estimator of the class EnsembleOfClassifiers must be passed
here</p></li>
<li><p><strong>distribution_function</strong> (<em>str</em><em>, </em><em>(</em><em>default='PDF'</em><em>)</em>) – Method to estimate the distributions of training and testing bags. Possible values ‘PDF’ or ‘CDF’.
This is used just for distribution_similarity combination strategy. This strategy is based on comparing
the PDFs or CDFs of the training bags and the PDF/CDF of the testing bag, selecting those quantifiers
training over the most similar distributions. To compute the distribution, EoQ employs the input
features (Xs) for quantifiers derived from WithoutClassifiers class and the predictions (Ys) for
quantifiers derived from UsingClassifiers</p></li>
<li><p><strong>n_bins</strong> (<em>int</em><em>, </em><em>(</em><em>default=100</em><em>)</em>) – Numbers of bins to estimate the distributions of training and testing bags. This is needed for
distribution_similarity combination strategy.</p></li>
<li><p><strong>bin_strategy</strong> (<em>str</em><em>, </em><em>(</em><em>default='equal_width'</em><em>)</em>) – <p>Method to compute the boundaries of the bins for to estimate the distributions of training and testing
bags when the distribution_similarity combination strategy is used. Possible values:</p>
<ul>
<li><p>’equal_width’: bins of equal length (it could be affected by outliers)</p></li>
<li><p>’equal_count’: bins of equal counts (considering the examples of all classes)</p></li>
<li><dl>
<dt>’binormal’: (Only for binary quantification) It is inspired on the method devised by</dt><dd><p>(Tasche, 2019, Eq (A16b)). the cut points, <span class="math notranslate nohighlight">\(-\infty &lt; c_1 &lt; \ldots &lt; c_{b-1} &lt; \infty\)</span>,
are computed as follows based on the assumption that the features follow a normal distribution:</p>
<p><span class="math notranslate nohighlight">\(c_i = \frac{\sigma^+ + \sigma^{-}}{2} \ \Phi^{-1}\bigg(\frac{i}{b}\bigg)  + \frac{\mu^+ + \mu^{-}}{2} ,  \quad i=1,\ldots,b-1\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\Phi^{-1}\)</span> is the quantile function of the standard normal distribution, and <span class="math notranslate nohighlight">\(\mu\)</span>
and <span class="math notranslate nohighlight">\(\sigma\)</span> of the normal distribution are estimated as the average of those values for
the training examples of each class.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>’normal’:  The idea is that each feature follows a normal distribution. <span class="math notranslate nohighlight">\(\mu\)</span> and <span class="math notranslate nohighlight">\(\sigma\)</span> are</dt><dd><p>estimated as the weighted mean and std from the training distribution. The cut points
<span class="math notranslate nohighlight">\(-\infty &lt; c_1 &lt; \ldots &lt; c_{b-1} &lt; \infty\)</span> are computed as follows:</p>
<p><span class="math notranslate nohighlight">\(c_i = \sigma^ \ \Phi^{-1}\bigg(\frac{i}{b}\bigg)  + \mu ,  \quad i=1,\ldots,b-1\)</span></p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>distance_bags</strong> (<em>str</em><em>, </em><em>(</em><em>default='euclidean'</em><em>)</em>) – Distance used to compute distribution similarity</p></li>
<li><p><strong>percentage_of_selected_models</strong> (<em>float</em><em>, </em><em>value in</em><em> [</em><em>0</em><em>, </em><em>1</em><em>]</em><em>, </em><em>(</em><em>default=0.5</em><em>)</em>) – Percentage of selected models for distribution similarity and prevalence similarity strategies</p></li>
<li><p><strong>verbose</strong> (<em>int</em><em>, </em><em>optional</em><em>, </em><em>(</em><em>default=0</em><em>)</em>) – The verbosity level. The default value, zero, means silent mode</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.base_quantifier">
<span class="sig-name descname"><span class="pre">base_quantifier</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.base_quantifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The quantifier used for each model of the ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>quantifier object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.n_quantifiers">
<span class="sig-name descname"><span class="pre">n_quantifiers</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.n_quantifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of quantifiers in the ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.bag_generator">
<span class="sig-name descname"><span class="pre">bag_generator</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.bag_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Object to generate the bags for training each quantifier</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>BagGenerator object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.combination_strategy">
<span class="sig-name descname"><span class="pre">combination_strategy</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.combination_strategy" title="Permalink to this definition">¶</a></dt>
<dd><p>Strategy used to combine the predictions of the ensemble quantifiers</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.ensemble_estimator_train">
<span class="sig-name descname"><span class="pre">ensemble_estimator_train</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.ensemble_estimator_train" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimator used to classify the examples of the training bags when a base_quantifier of
class UsingClassifiers is used</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>estimator object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.ensemble_estimator_test">
<span class="sig-name descname"><span class="pre">ensemble_estimator_test</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.ensemble_estimator_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimator used to classify the examples of the testing bags</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>estimator object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.distribution_function">
<span class="sig-name descname"><span class="pre">distribution_function</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.distribution_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to estimate the distributions of training and testing bags</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.n_bins">
<span class="sig-name descname"><span class="pre">n_bins</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.n_bins" title="Permalink to this definition">¶</a></dt>
<dd><p>Numbers of bins to estimate the distributions of training and testing bags</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">bin_strategy</span> <span class="pre">=</span> <span class="pre">str,</span> <span class="pre">(default='equal_width')</span></span></dt>
<dd><p>Method to compute the boundaries of the bins for to estimate the distributions of training and testing
bags</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.distance_bags">
<span class="sig-name descname"><span class="pre">distance_bags</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.distance_bags" title="Permalink to this definition">¶</a></dt>
<dd><p>Distance used to compute distribution similarity</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.percentage_of_selected_models">
<span class="sig-name descname"><span class="pre">percentage_of_selected_models</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.percentage_of_selected_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Percentage of selected models for distribution similarity and prevalence similarity strategies</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.quantifiers_">
<span class="sig-name descname"><span class="pre">quantifiers_</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.quantifiers_" title="Permalink to this definition">¶</a></dt>
<dd><p>This vector stores the quantifiers of the ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (n_quantifiers,)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.prevalences_">
<span class="sig-name descname"><span class="pre">prevalences_</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.prevalences_" title="Permalink to this definition">¶</a></dt>
<dd><p>It contains the prevalence of each training bag used to fit each quantifier of the ensemble</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (n_quantifiers,)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.indexes_">
<span class="sig-name descname"><span class="pre">indexes_</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.indexes_" title="Permalink to this definition">¶</a></dt>
<dd><p>The indexes of the training examples that compose each training bag. The number of training examples
used in each bag is fixed true bag_generator parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarry, shape (n_examples_of_training_bags, n_quantifiers)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.bincuts_">
<span class="sig-name descname"><span class="pre">bincuts_</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.bincuts_" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin cuts for each feature used to  estimate the training/testing distributions for distribution
similarity strategy. The total number of features depends on the kind of base_quantifier used and on
the quantification problem. For quantifiers derived from WithoutClassifiers n_features is the dimension on
the input space. For quantifiers derived from UsingClassifiers n_features is 1 for binary quantification
tasks and is n_classes for multiclass/ordinal problems</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (n_features, n_bins + 1)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.distributions_">
<span class="sig-name descname"><span class="pre">distributions_</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.distributions_" title="Permalink to this definition">¶</a></dt>
<dd><p>It constains the estimated distribution for each quantifier</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (n_quantifiers, n_features * n_bins)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.classes_">
<span class="sig-name descname"><span class="pre">classes_</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.classes_" title="Permalink to this definition">¶</a></dt>
<dd><p>Class labels</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape (n_classes, )</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.verbose">
<span class="sig-name descname"><span class="pre">verbose</span></span><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>The verbosity level</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictions_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prevalences</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/quantificationlib/ensembles/eoq.html#EoQ.fit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>This method does the following tasks:</p>
<ol class="arabic simple">
<li><p>It generates the training bags using a Bag_Generator object</p></li>
<li><p>It fits the quantifiers of the ensemble.</p></li>
</ol>
<p>In the case of quantifiers derived from the class UsingClassifiers, there are 3 possible ways to do this:</p>
<ul class="simple">
<li><p>train a classifier for each bag. To do this an object from the class EnsembleOfClassifiers must be passed on ensemble_estimator</p></li>
<li><p>train a classifier for the whole training set using an estimator from other class</p></li>
<li><p>uses the predictions_train given in the predictions_train parameter (these predictions usually are
obtained applying an estimator over the whole training set like in the previous case)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>n_features</em><em>)</em>) – Data</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>)</em>) – True classes</p></li>
<li><p><strong>predictions_train</strong> (<em>ndarray</em><em>, </em><em>optional</em><em>, </em><em>shape</em><em>(</em><em>n_examples</em><em>, </em><em>1</em><em>) </em><em>crisp</em><em> or </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>n_classes</em><em>) </em><em>(</em><em>probs</em>) – <dl class="simple">
<dt>with a regular estimator) or shape(n_examples, n_estimators, n_classes) with an</dt><dd><p>instance of EnsembleOfClassifiers</p>
</dd>
</dl>
<p>Predictions of the examples in the training set</p>
</p></li>
<li><p><strong>prevalences</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_classes</em><em>, </em><em>n_bags</em><em>)</em>) – i-th row contains the true prevalences of each bag</p></li>
<li><p><strong>indexes</strong> (<em>array-line</em><em>, </em><em>shape</em><em> (</em><em>bag_size</em><em>, </em><em>n_bags</em><em>)</em>) – i-th column contains the indexes of the examples for i-th bag</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="quantificationlib.ensembles.eoq.EoQ.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictions_test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/quantificationlib/ensembles/eoq.html#EoQ.predict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#quantificationlib.ensembles.eoq.EoQ.predict" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>array-like</em><em>, </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>n_features</em><em>)</em>) – Testing bag</p></li>
<li><p><strong>predictions_test</strong> (<em>ndarray</em><em>, </em><em>(</em><em>default=None</em><em>) </em><em>shape</em><em> (</em><em>n_examples</em><em>, </em><em>n_classes</em><em>) </em><em>if ensemble_estimator_train is not COMPLETE</em>) – Predictions for the testing bag</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>prevalences</strong> –          a dictionary with the predictions for all strategies if ‘all’ is selected
Each value contains the predicted prevalence for the corresponding class</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ndarray, shape(n_classes, ) if an individual combination strategy is selected or</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">





<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li><a class="reference internal" href="#">quantificationlib.ensembles.eoq module</a><ul>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ"><code class="docutils literal notranslate"><span class="pre">EoQ</span></code></a><ul>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.base_quantifier"><code class="docutils literal notranslate"><span class="pre">base_quantifier</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.n_quantifiers"><code class="docutils literal notranslate"><span class="pre">n_quantifiers</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.bag_generator"><code class="docutils literal notranslate"><span class="pre">bag_generator</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.combination_strategy"><code class="docutils literal notranslate"><span class="pre">combination_strategy</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.ensemble_estimator_train"><code class="docutils literal notranslate"><span class="pre">ensemble_estimator_train</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.ensemble_estimator_test"><code class="docutils literal notranslate"><span class="pre">ensemble_estimator_test</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.distribution_function"><code class="docutils literal notranslate"><span class="pre">distribution_function</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.n_bins"><code class="docutils literal notranslate"><span class="pre">n_bins</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.distance_bags"><code class="docutils literal notranslate"><span class="pre">distance_bags</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.percentage_of_selected_models"><code class="docutils literal notranslate"><span class="pre">percentage_of_selected_models</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.quantifiers_"><code class="docutils literal notranslate"><span class="pre">quantifiers_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.prevalences_"><code class="docutils literal notranslate"><span class="pre">prevalences_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.indexes_"><code class="docutils literal notranslate"><span class="pre">indexes_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.bincuts_"><code class="docutils literal notranslate"><span class="pre">bincuts_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.distributions_"><code class="docutils literal notranslate"><span class="pre">distributions_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.classes_"><code class="docutils literal notranslate"><span class="pre">classes_</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.verbose"><code class="docutils literal notranslate"><span class="pre">verbose</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.fit"><code class="docutils literal notranslate"><span class="pre">fit()</span></code></a></li>
<li><a class="reference internal" href="#quantificationlib.ensembles.eoq.EoQ.predict"><code class="docutils literal notranslate"><span class="pre">predict()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>



<h3> Source Code </h3>
<a href="https://github.com/AICGijon/quantificationlib">GitHub Repository</a>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="quantificationlib.ensembles.html"
                          title="previous chapter">quantificationlib.ensembles package</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="quantificationlib.estimators.html"
                          title="next chapter">quantificationlib.estimators package</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="quantificationlib.estimators.html" title="quantificationlib.estimators package"
             >next</a> |</li>
        <li class="right" >
          <a href="quantificationlib.ensembles.html" title="quantificationlib.ensembles package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">quantificationlib 0.0.7 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="quantificationlib.ensembles.html" >quantificationlib.ensembles package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">quantificationlib.ensembles.eoq module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, AIC Gijón.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.2.0.
    </div>
  </body>
</html>